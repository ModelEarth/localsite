<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<title>Community Info</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
<link type="text/css" rel="stylesheet" href="../../io/build/widgets.css" />
<link type="text/css" rel="stylesheet" href="../../io/build/iochart.css" />
<link type="text/css" rel="stylesheet" href="../css/base.css" />
<link type="text/css" rel="stylesheet" href="../css/search-filters.css" />
<link type="text/css" rel="stylesheet" href="../css/map-display.css" />
<link type="text/css" rel="stylesheet" href="../css/industry-detail.css?v=3" />
<style>
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
.view-epd-link:hover {
    color: #0056b3 !important;
}
#loadMoreProducts button:hover:not(:disabled) {
    background: #0056b3 !important;
    box-shadow: 0 4px 8px rgba(0,123,255,0.3) !important;
    transform: translateY(-1px);
}
#loadMoreProducts button:active:not(:disabled) {
    transform: translateY(0);
}
.product-card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.product-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
}
</style>
</head>

<body>

<div class="contentpadding">
	<h1>Info Template</h1>
	This page is blank without data. View <a href="./">with data</a> and <a href="../../io/charts">learn about widgets</a>.
</div>

<div id="template-charts">
<!-- INFO TEMPLATE -->

<script>
function showIndustryList() {
	alert("showIndustryList")
	goHash({'naics':''});
}
</script>

<div id="industryDetail" style="display:none">
	<!-- Industry Header -->
	<div class="contentpadding">
		<div style="display:flex; justify-content:space-between; align-items:flex-start; flex-wrap:wrap; gap:15px;">
			<div>
				<a href="#" onclick="goHash({'naics':''});return false;" class="btn btn-outline" style="margin-bottom:10px;">
					&larr; Back to Industries
				</a>
			</div>
			<div id="industryNaicsCode" style="font-size:14px; color:#666; padding:8px 12px; background:#f5f5f5; border-radius:4px;"></div>
		</div>
		
		<h1 id="industryDetailTitle" class="h1-home" style="margin-top:20px; margin-bottom:5px;">
			NAICS Industry
		</h1>
		<p id="industryDetailDescription" style="color:#666; margin-bottom:20px; font-size:15px;"></p>
		
		<!-- Industry Stats Grid -->
		<div id="industryStats" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(150px, 1fr)); gap:15px; margin:25px 0;">
			<div class="stat-card" style="background:#f8f9fa; padding:20px; border-radius:8px; text-align:center;">
				<div style="font-size:12px; color:#666; text-transform:uppercase; margin-bottom:5px;">Employment</div>
				<div id="industryEmployment" style="font-size:24px; font-weight:600; color:#333;">--</div>
			</div>
			<div class="stat-card" style="background:#f8f9fa; padding:20px; border-radius:8px; text-align:center;">
				<div style="font-size:12px; color:#666; text-transform:uppercase; margin-bottom:5px;">Establishments</div>
				<div id="industryEstablishments" style="font-size:24px; font-weight:600; color:#333;">--</div>
			</div>
			<div class="stat-card" style="background:#f8f9fa; padding:20px; border-radius:8px; text-align:center;">
				<div style="font-size:12px; color:#666; text-transform:uppercase; margin-bottom:5px;">Annual Payroll</div>
				<div id="industryPayroll" style="font-size:24px; font-weight:600; color:#333;">--</div>
			</div>
		</div>
	</div>
	
	<hr style="margin:0;">
	
	<!-- Related Products Section -->
	<div class="contentpadding" style="padding-top:25px;">
		<h2 style="margin-bottom:5px; display:flex; align-items:center; gap:10px;">
			<span style="font-size:24px;">&#127981;</span>
			<span>Related Products</span>
			<span id="productCount" style="font-size:14px; color:#666; font-weight:normal;"></span>
		</h2>
		<p style="color:#666; margin-bottom:20px; font-size:14px;">
			Environmental Product Declarations (EPDs) from <a href="https://buildingtransparency.org" target="_blank">BuildingTransparency.org</a>
		</p>
		
		<div id="productGrid" style="display:grid; grid-template-columns:repeat(auto-fill, minmax(280px, 1fr)); gap:20px;">
			<!-- Product cards dynamically inserted here -->
		</div>
		
		<div id="productLoading" style="text-align:center; padding:40px; display:none;">
			<div style="font-size:16px; color:#666;">Loading products...</div>
		</div>
		
		<div id="loadMoreProducts" style="text-align:center; margin:30px 0; display:none;">
			<button onclick="loadMoreProducts()" class="btn btn-primary" style="padding:12px 32px; font-size:14px; cursor:pointer; border-radius:6px; border:none; background:#007bff; color:white; font-weight:500; transition:all 0.2s ease; box-shadow:0 2px 4px rgba(0,123,255,0.2);">
				Load More Products
			</button>
		</div>
		
		<div id="noProductsMessage" style="display:none; padding:40px; text-align:center; background:#f8f9fa; border-radius:12px; margin-top:20px;">
			<div style="font-size:40px; margin-bottom:15px;">&#128230;</div>
			<p style="font-size:18px; margin-bottom:10px; color:#333;">No products available yet for this industry.</p>
			<p style="color:#666; margin-bottom:20px;">Product data comes from Environmental Product Declarations (EPDs) registered with BuildingTransparency.org</p>
			<a href="https://buildingtransparency.org" target="_blank" class="btn btn-outline" style="padding:10px 20px; text-decoration:none;">
				Learn More About EPDs
			</a>
		</div>
	</div>
	
	<hr style="margin:30px 0 0 0;">
	
	<!-- Environmental Impact Section -->
	<div class="contentpadding" style="padding-top:25px;">
		<h2 style="margin-bottom:20px; display:flex; align-items:center; gap:10px;">
			<span style="font-size:24px;">&#127758;</span>
			<span>Environmental Impact</span>
		</h2>
		<div id="industryImpactCharts">
			<p style="color:#666;">Select a state above to view environmental impact data for this industry.</p>
		</div>
	</div>
	
	<hr style="margin:30px 0 0 0;">
	
	<!-- Supply Chain Section -->
	<div class="contentpadding" style="padding-top:25px; padding-bottom:40px;">
		<h2 style="margin-bottom:20px; display:flex; align-items:center; gap:10px;">
			<span style="font-size:24px;">&#128279;</span>
			<span>Supply Chain</span>
		</h2>
		<div id="industrySupplyChain">
			<p style="color:#666;">Supply chain analysis shows which industries provide inputs and receive outputs from this sector.</p>
		</div>
	</div>
</div>

<div id="industryListHolder" style="display:none; padding-top:0; padding-bottom:0">

<div id="industryHeader" class="contentpadding" style="clear:both;padding-bottom:0px;display:flex;flex-wrap:wrap;align-items:flex-start;gap:10px">
	<div style="flex:1;min-width:200px">
		<h1 id="pageTitle" class="h1-home" style="margin-bottom:0px;"></h1><!-- For 6 impact sets -->
		<h1 class="region_service" style="margin-top:0;padding-top:0;"></h1>
		<h2 class="location_titles" style="font-size:24px;padding-top:0px;display:none"></h2>
	</div>
	<div id="detail_selection" style="display:flex;flex-wrap:wrap;align-items:center;gap:6px;line-height:normal">
		<div class="georgia local" style="display:none"><select id="catyear" class="picklist" onchange="goHash({'catyear':this.value});">
		  <option value="2016">2016</option>
		  <option value="2017">2017</option>
		  <option value="2018">2018</option>
		  <option value="2019">2019</option>
		  <option value="2020">2020</option>
		  <option value="2021">2021</option>
		  <option value="2022">2022</option>
		  <option value="2023" selected>2023</option>
		</select></div>
		<select id="catsize" class="picklist" onchange="goHash({'catsize':this.value});">
		  <option value="2">Sectors - 2 digits</option>
		  <!--option value="2">Subsectors - 3 digits</option-->
		  <option value="4">Industry Groups - 4 digits</option>
		  <!--option value="4">NAICS Industry - 5 digits</option-->
		  <option value="6" selected>Industries - 6 digits</option>
		</select>
		<div id="show_industry_settings" style="cursor:pointer;flex-shrink:0;line-height:normal" onclick="$('.industry_filter_settings').toggle();">
			<span class="material-icons" style="font-size:24px;color:#777">settings</span>
		</div>
		<div id="widgetToggleContainer" style="position:relative; min-height:24px; line-height:normal; flex-shrink:0;">
		  <div id="widgetToggleHolder" class="menuToggleHolder" title="Widget list" style="position:relative;right:auto;top:auto;">
		    <i id="widgetToggleIcon" class="material-icons">arrow_drop_down_circle</i>
		  </div>
		  <div id="widgetList" class="menuToggleMenu" style="display:none">
		    <div class="menuToggleItem" data-section="industryTableHolder">Area Industries<span class="material-icons menuToggleCheck">check</span></div>
		    <div class="menuToggleItem" data-section="industries">Industry List<span class="material-icons menuToggleCheck">check</span></div>
		    <div class="menuToggleItem" data-section="supply">Supply Chain<span class="material-icons menuToggleCheck">check</span></div>
		    <div class="menuToggleItem" data-section="impact">Impact Levels<span class="material-icons menuToggleCheck">check</span></div>
		    <div class="menuToggleItem" data-section="bubble">Bubble Chart<span class="material-icons menuToggleCheck">check</span></div>
		    <div class="menuToggleItem" data-section="sectors">Sectors<span class="material-icons menuToggleCheck">check</span></div>
		    <div id="widgetListShowAll" class="menuToggleItem" data-action="show-all" style="display:none">Show All Section</div>
		  </div>
		</div>
	</div>
	<div class="industry_filter_settings" style="display:none;width:100%;margin-top:6px">
		<div class="state-view" style="margin:20px 0 20px 30px">
			To view filter settings, choose a location (county or region) above.
			<a href="/localsite/info/naics/" class="local" style="display:none">View upcoming industry list</a>
		</div>
		<div class="county-view" style="display:none">
			<select id="catmethod" class="picklist" onchange="goHash({'catmethod':this.value});">
			  <option value="1" selected>Use average of payrolls not assigned to counties</option>
			  <option value="2">Use average of all state payrolls (less accurate)</option>
			  <option value="0">Leave unpublished values blank</option>
			</select>
		</div>
	</div>
</div>

<!-- v2 -->
<section id="industryTableHolder" style="display:none;">
<div class="contentpadding" style="padding-top:0px">
	<div id="tabulator-industrytable-intro"><b>Area Industries</b> (Visible on localhost) <!-- FIPS and NAICS case sensitive--></div>
	<div id="tabulator-industrytable-datalink"></div>
	<div style="clear:both"></div>
	<div id="tabulator-industrytable"></div><br>
	<div id="tabulator-industrytable-count"></div>
</div>
</section>

<section id="industries">
<div id="top-content-columns" class="contentX contentpadding noprint" style="padding-top:0; padding-bottom:0">

	<!--
	"Life Cycle Assessment (also known as life cycle analysis, or cradle-to-grave analysis) is a method of assessing environmental impacts associated with all stages of a product's life. For example, it measures impact from raw material extraction to materials processing, manufacturing, distribution, use, repair and maintenance, and disposal or recycling. The goal of LCA is to compare the full range of environmental effects assignable to products and services by quantifying all inputs and outputs of material flows, and then assessing how these material flows impact the environment. This information is used to improve processes, support policy, and provide a sound basis for informed decisions." -
	<a href="https://data.nal.usda.gov/life-cycle-assessment" target="USDA">USDA</a><br><br>
	-->

			<div id="infoColumn" class="mainColumnX mainColumn1X" style="display:none; font-size: 15px; position: relative">

				<div id="aboutToolsDiv" style="position: relative;"></div>

			</div>

			<div id="industryFilters" class="mainColumn mainColumn2 input-output">

				<div style="float:right; font-size: 11px">
					Data source: U.S. Bureau of Economic Analysis
				</div>

				<select id="catsort" class="picklist" onchange="goHash({'catsort':this.value});">
				  <option value="payann" selected>By Annual Payroll</option>
				  <option value="emp">By Employee Count</option>
				  <option value="estab">By Establishments</option>
				</select>

				<div id="topMessage" style="clear:both"></div>

				<!--
				<div style="max-width:700px">
					<b>Adjust Industry Levels</b> to reflect technology initiatives that generate new revenue streams, create jobs and increase your community's positive environmental impact.
				</div>
				<br><br>
				-->

				<!--
					The US Census does not provide stats for 2-digit manufacturing NAICS 31, 32&nbsp;and&nbsp;33.<br><br>
				-->

				<div class="mock-up" style="display:none">
					Change scales to view the impact of different industry mixes. (Not yet activated)<br>
				</div>
				<!-- /Sector List Format -->

				

			</div>
		
			<!--
				Previously contained:
				<img src='/localsite/img/icon/loading.gif' style='margin:40px; width:120px'>
			-->
			<div id="econ_list"></div><br>

</section><!-- /industries -->

</div>


<!--
https://www.epa.gov/enviroatlas

<div class="contentpadding">
<h1>Sample of embedding <a href="https://www.epa.gov/enviroatlas/enviroatlas-interactive-map">Enviro Atlas</a></h1>
</div>
https://epa.maps.arcgis.com/apps/MapJournal/index.html?appid=0659c53852f4425fb3460e78de67a3ef
-->

<iframe id="mapframe" style="display:none; width:93%;height:800px; margin:0 0px 40px 40px"></iframe>


<!-- INDICATOR SETS -->
<section id="supply" class="anchor">
<div style="position:relative; width:100%">
    <!--  
    <div class="lazy bgimg bgimg-notfixed" data-src="img/bkgd.jpg" style="opacity:.85">
        <img src="img/bkgd.jpg" style="opacity:0;width:100%">
    </div>
    -->

    <!--
        Background source:
        Airbender: https://wallpapersafari.com/w/fXi214
        Avatar: 
    -->

    <!--
    <img class="fixedBkgd backgroundAbsoluteX" src="img/bkgd.jpg" style="width:100%;" alt="">
    -->

    <div class="contentpadding" id="impactTopHolder" style="overflow:auto; padding-bottom:20px;">

        <div id="impactIconsHolder" style="float:right;" class="fullMobile fullNarrow">
            <div class="impactIcons">
                <!-- to do: check if indicators match USEEIO 2.0 -->
                <div class="impactIcon_Air" onclick="goHash({'set':'air','indicators':'GHG,GCC,MGHG,OGHG,HRSP,OZON,SMOG,HAPS'});">Air</div>
                <div class="impactIcon_Water" onclick="goHash({'set':'water','indicators':'WATR,ACID,EUTR,ETOX'});">Water</div>
                <div class="impactIcon_Land" onclick="goHash({'set':'land','indicators':'LAND,MNRL,PEST,METL,CRHW,CMSW,FMSW,CCDD'});">Land</div>
                <div class="showMobile showMobileFull" style="clear:both;margin:0px;padding:0px;border:0px;display:none"></div>
                <div class="impactIcon_Energy" onclick="goHash({'set':'energy','indicators':'ENRG,NNRG,RNRG'});">Energy</div>
                <div class="impactIcon_Health" onclick="goHash({'set':'health','indicators':'HTOX,HCAN,HNCN,HTOX,HRSP'});">Health</div>
                <div class="impactIcon_Prosperity" onclick="goHash({'set':'prosperity','indicators':'VADD,JOBS'});">Prosperity</div>
                <div class="local btn btn-primary" onclick="location.href='/realitystream/#' + window.location.hash.substr(1); return false;" style="display:none;min-width:133px;font-size:15px;border:none;">
					RealityStream
				</div>
            </div><br>

            
        </div>

        <div style="float:left;">
            
            <!--
            <div style="clear:both; font-size: 13px">
                <a href="../../localsite/info/#state=GA&regiontitle=Coastal+Georgia&geo=US13127,US13039,US13191,US13179,US13029,US13051">Coastal Georgia</a> <span style="position:absolute; font-size:35px; line-height:13px; padding:3px 0 0 1px">&#8227;</span> &nbsp;&nbsp; &nbsp; 
                <a href="../../localsite/info/#show=bioeconomy&state=GA&regiontitle=Coastal+Georgia&geo=US13127,US13039,US13191,US13179,US13029,US13051">Bioeconomy and Energy</a>
            </div>
            -->

            <!-- Supply Chain -->
            <h1 id="largeTite" class="listTitle" style="margin-top:0px; margin-bottom:10px;">Supply Chain Inflow-Outflow</h1>
            <div class="region_service" style="font-size:20px; margin-bottom:20px"></div>
            

            <style>
            	@media (max-width: 1200px) {
            	}

				.mobileView .MuiGrid-grid-md-true {
				    flex-basis: 100% !important;
				}
				.mobileView .MuiGrid-grid-md-5 {
					max-width: 100% !important;
					flex-basis: 100% !important;
				}
				
            </style>

            <select id="indicators" class="filterClickX form-selectX picklist" onchange="goHash({'set':'','indicators':this.value});" style="max-width:200px;font-size:18px;">

			<option value="">Specific impact areas...</option>

			<option value="JOBS,VADD">Positive Impacts</option>

			<option value="JOBS">&nbsp; &nbsp;Jobs (JOBS)</option>
			<option value="VADD">&nbsp; &nbsp;Value Added (VADD)</option>


			<option value="ENRG,LAND,MNRL,WATR">Resource Use</option>

			<option value="ENRG" title="Energy Use (ENRG): Energy Use is an indicator of the life cycle total amount of primary energy used as defined by heat value in a combusted resource or the available energy in a renewable resource to a converting device such as a wind turbine or water turbine. This indicator is a combination of the NNRG and RNRG indicators. This indicator is expressed in megajoules (MJ).">&nbsp; &nbsp;Energy Use (ENRG)</option>

			<option value="LAND" title="Land Use (LAND): Nearly every process requires some amount of land for factories, offices, or roads. This land is often converted from existing natural habitats for wildlife. Habitat loss is the leading cause of wildlife extinctions worldwide and additional habitat conversion could lead to further loss of species. This indicator tracks the total area of usable land occupied to allow for the process. This indicator is expressed in square meters for a year (m2*yr).">&nbsp; &nbsp;Land Use (LAND)</option>

			<option value="MNRL">&nbsp; &nbsp;Minerals and Metals Use (MNRL)</option>

			<option value="WATR" title="Water Use (WATR): 
			Water Use is an indicator of the life cycle total amount (m3) of freshwater withdrawn from surface and groundwater sources in order to provide a given good or service to society.">&nbsp; &nbsp;Water Use (WATR)</option>


			<option value="ACID,ETOX,EUTR,GHG,HRSP,HTOX,OZON,SMOG">Adverse Impacts</option>

			<option value="ACID" title="Acid Rain (ACID): 
			Acid rain occurs when acid-precursors are absorbed from the atmosphere by clouds and dissolved in falling rain. Acid rain, while not directly dangerous to people, causes millions of dollars in damage to infrastructure by very slowly dissolving the exposed surfaces of roads, buildings, drains, and even statues. Acid rain is also detrimental to natural life: acidic soils make it difficult or impossible for plants to survive and grow and acidic runoff can disrupt the delicate chemical balance in natural bodies of water. In this indicator, emissions are expressed in sulfur dioxide (SO2) equivalents. The source of the factors for this indicator is TRACI 2.1 (Bare 2012).">&nbsp; &nbsp;Acid Rain (ACID)</option>

			<!--
			<option value="CCDD" title="Commercial Construction and Demolition Debris (CCDD): 
			The CCDD indicator represents the annual generation amount of construction and demolition (C&amp;D) materials during the construction, renovation and demolition of buildings (including homes), roads, bridges and other structures. C&amp;D materials include steel, wood products, drywall and plaster, brick and clay tile, asphalt shingles, concrete and asphalt concrete. The CCDD indicator does not include C&amp;D debris from DIY renovations or natural disasters. This indicator is expressed in kilograms (kg).">&nbsp; &nbsp;Commercial Construction and Demolition Debris (CCDD)</option>
			
			<option value="CMSW" title="Commercial Municipal Solid Waste (CMSW): 
			EPA refers to trash, or municipal solid waste (MSW), as various items consumers throw away after they are used. These items include bottles and corrugated boxes, food, grass clippings, sofa, computers, tires and refrigerators. However, MSW does not include everything that is landfilled in MSW, or nonhazardous, landfills, such as construction and demolition debris, municipal wastewater sludge, and other non-hazardous industrial wastes. These wastes come from: our homes; institutions such as schools and hospitals; and commercial sources such as restaurants and businesses. The CMSW indicator includes MSW found in the dumpsters of commercial and institutional entities. It does not include MSW from homes. Data for CMSW comes from this 2014 CalRecycle report (https://www2.calrecycle.ca.gov/Publications/Details/1543). This indicator is expressed in kilograms (kg).">&nbsp; &nbsp;Commercial Municipal Solid Waste (CMSW)</option>
			

			<option value="CRHW" title="Commercial RCRA Hazardous Waste (CRHW): 
			Hazardous wastes are wastes with properties that make them dangerous or capable of having a harmful effect on human health or the environment. Hazardous waste is generated from many sources, ranging from industrial manufacturing process wastes to batteries and may come in many forms, including liquids, solids, gases and sludges. EPA identifies hazardous waste and collects information on quantities generated through its Biennial Hazardous Waste Report. Individual states can identify hazardous waste beyond what EPA identifies. Unless otherwise specified, quantities reflected in this indicator come from EPA's Biennial Report. This indicator is expressed in kilograms (kg).">&nbsp; &nbsp;Commercial RCRA Hazardous Waste (CRHW)</option>
			-->

			<option value="ETOX" title="Freshwater Aquatic Ecotoxicity (ETOX): 
			Like humans, wildlife can be harmed by exposure to toxic chemicals and substances. An ever-expanding list of common chemicals have been assessed for their tendency to cause ecological damage when released in to the air, water, or soil. In this indicator, emissions are expressed in terms of their contribution to ecological damage in the water column of freshwater bodies. A standardized Comparative Toxicity Unit is used. The source of the factors for this indicator is TRACI 2.1 (Bare 2012) which uses USETox 1.0 (Rosenbaum et al. 2008).">&nbsp; &nbsp;Freshwater Aquatic Ecotoxicity (ETOX)</option>

			<option value="EUTR" title="Eutrophication (EUTR): 
			Aquatic life is frequently limited by access to mineral nutrients, but the most common limiting nutrients are in both agricultural fertilizers and sewage. When these nutrients are carried in to natural water bodies, usually by rain or pipe, they can cause massive blooms of algae. These algae can choke out other life in the water by rapidly taking up oxygen, blocking sunlight, or even releasing toxic chemicals. After the bloom, the algae die and leave behind a devastated ecosystem. In this indicator, emissions are expressed as their equivalent in kilograms of bioavailable nitrogen, based on the emission in question's potential to reach a body of water and its resultant impacts on algal growth. The source of the factors for this indicator is TRACI 2.1 (Bare 2012).">&nbsp; &nbsp;Eutrophication (EUTR)</option>

			<!-- hiddenhash.indicators = "GHG" is also set above on page init. -->
			<option value="GHG" selectedX title="Greenhouse Gases (GHG): 
			Greenhouse gases are the primary driver of climate change. These gases absorb infrared radiation emitted by the sun at a higher rate than standard atmospheric gases. The result is that, when these gases are emitted, the atmosphere absorbs and stores more heat, causing it to warm up. Carbon dioxide is the most commonly known greenhouse gas, but other gases such as methane, nitrous oxide, and even water vapor are all major contributors to the warming of the atmosphere. In this indicator, emissions are expressed as their equivalent in carbon dioxide (CO2), based on the amount of heat they can absorb and their average life span in the atmosphere. The source of the factors for this indicator is TRACI 2.1 (Bare 2012).">&nbsp; &nbsp;Greenhouse Gases (GHG)</option>

			<option value="HRSP" title="Human Health - Respiratory Effects (HRSP): 
			Particulates can be nearly any ingestible material ground down to a fine enough size. Even otherwise harmless substances, when suspended as a dust and inhaled in to the lungs, can clog airways and irritate the sensitive tissues of the lungs. Over time, exposure to these particulates can lead to a variety of harmful respiratory and cardiac diseases and a general loss of cardiopulmonary function that significantly lowers both lifespan and productive years. In this indicator, emissions are expressed in terms of their effect on human respiratory health in PM2.5 equivalents. The source of the factors for this indicator is TRACI 2.1 (Bare 2012).">&nbsp; &nbsp;Human Health - Respiratory Effects (HRSP)</option>

			<option value="HTOX" title="Human Health Toxicity (HTOX): 
			Millions of tons of chemicals are used in commerce that a human can be exposed to with potential detrimental effect. Exposure to certain chemicals can increase the likelihood of cancer or other illness in humans. In this indicator, emissions are expressed in terms of their contribution to the incidence of cancer and illness in humans. A standardized Comparative Toxicity Unit (CTU) is used. This indicator is a combination of the HCAN and HNCN indicators. The source of the factors for this indicator is TRACI 2.1 (Bare 2012) which uses USETox 1.0 (Rosenbaum et al. 2008).">&nbsp; &nbsp;Human Health Toxicity (HTOX)</option>

			<!--
			<option value="MINE" title="Minerals and Metals Use (MINE): 
			Minerals and Metals Use is an indicator of the life cycle total mass of nonmetallic and metallic minerals extracted for use measured in kilograms (kg).">&nbsp; &nbsp;Minerals and Metals Use (MINE)</option>
			-->

			<option value="OZON" title="Ozone Depletion (OZON): 
			The earth is surrounded by a protective layer of atmospheric ozone that filters out harmful radiation from the sun. Certain chemicals, when released in to the air, have the ability to react with and destroy large quantities of the ozone layer, allowing more harmful radiation to reach us. Some chemicals are more long lasting or more likely to interact with ozone than others, so they have different destructive potentials. In this indicator, emissions are expressed as their equivalent in kilograms of CFC-11, an extremely harmful gas formerly used as a common refrigerant capable of destroying thousands of times its mass in ozone. The source of the factors for this indicator is TRACI 2.1 (Bare 2012).">&nbsp; &nbsp;Ozone Depletion (OZON)</option>

			<option value="SMOG" title="Smog Formation (SMOG): 
			Smog formation is a complex process by which a group of inorganic gases, typically released by the burning of fossil fuels, react with another group of organic substances, typically released by plant-life, to create ozone at the ground-level. Ozone created at the ground level can cause respiratory disease in humans and stresses plant life, making them more susceptible to disease. Ground-level ozone is also generally broken down and destroyed before it can rise up to join the protective atmospheric ozone layer. In this indicator, emissions are expressed in terms of how much they will contribute to the creation of ground-level ozone (O3), units are kg O3 -equivalents. The source of the factors for this indicator is TRACI 2.1 (Bare 2012).">&nbsp; &nbsp;Smog Formation (SMOG)</option>

			<option value="METL,HAPS,PEST">Chemical Releases</option>
			<!--
			<option value="METL">&nbsp; &nbsp;Metal (METL)</option>
			-->
			<option value="HAPS">&nbsp; &nbsp;Hazardous Air Pollutants (HAPS)</option>
			<option value="PEST">&nbsp; &nbsp;Pesticides (PEST)</option>

			</select>

        </div>
    </div>
</div>
</section>
<!-- /INDICATOR SETS -->


<!-- INPUT OUTPUT -->
<!-- See: "For older 3 column IO layout" below -->
<div id="ioPanelOld" class="content contentpadding litePanel" style="display:none; width:95% !important; max-width:95%; margin-top:20px; border:1px solid #aaa">

	<div style="margin-right:45px">
		<h2 style="border:0px" id="supplyChainHeader">Input-Output Supply Chain</h2>
		<hr>

		<div style="float:right;margin-bottom:16px" class="noprint">
			<a href="../../io/charts/">About Widgets</a>
		</div>
	</div>


		<div style="display:none">
			<div style="font-size: 15px;">
				<input name="sector_action" type="radio">
				Recruit a new industry<br>
				<input name="sector_action" type="radio">
				Transform an existing industry<br>
				<br>
			</div>
		</div>



	Choose commodities below to view upstream input and downstream output.<br>
	Currently utilizes national USEEIO input-output data generated from the production API.<br>
	Georgia-specific input-output dataset is being developed by the EPA.<br><br>




	<div class="pageColumns">

	    <div class="pageColumn">
	      <div class="pageColumnInside">
	          <h2>Upstream</h2>
	          Input from Suppliers
	          <div id="inputs" class="industry-list">
	          </div>
	      </div>
	    </div>

	    <div class="pageColumn">
	      <div class="pageColumnInside">
	        <h2>Commodities</h2>
	        <div>Georgia Manufacturers</div>
	        <div id="industry-list" class="industry-list">
	        </div>
	      </div>
	    </div>

	    <div class="pageColumn">
	      <div class="pageColumnInside">
	        <h2>Downstream</h2>
	          Output to Buyers
	          <div id="outputs" class="industry-list">
	          </div>
	      </div>
	    </div>

	</div>

	<style>
	.industry-list {
		padding-right:50px;
		font-size: 11px;
	}
	.matrix-search {
		display: none;
	}
	</style>



	<!-- change endpoint when adding to page -->

	<script>

	</script>

	<br><br>
</div>
<div style="clear:both;"></div>
<!-- /INPUT OUTPUT -->
<style>
.impactIcons div {
    float: left;
    font-size: 13px;
    border: 1px solid #ccc;
    width: 100px;
    padding: 10px 20px;
    margin: 0 15px 15px 0;
    text-align: center;
    border-radius: 25px;
}
#hero-mini .impactIcons div {
	border: 0px solid #ccc;
	border-bottom: 1px solid #555;
	padding: 5px;
	padding-left: 18px;
	text-align: left;
	min-width: 140px;
	width: 100%;
	margin: 0px;
}
#impact-widget-vertical #impactIcons div {
	margin-bottom: 15px;
}
.impactIcons div.active {
    border: 4px solid #aaa;
    padding: 7px 17px;
}
.impactIcons div:hover {
    cursor: pointer;
    background-color: rgba(33,33,33,.8);
    color: #fff;
}

/*
.fixedBkgd {
    position: fixed;
    z-index: -1;
    width: 100%;
    min-width: 1040px;
}
.buttonLinks a {
    background-color: #779;
    color: #fff;
    padding: 10px 30px;
    border-radius: 20px;
    display: inline-block;
    margin: 0 10px 14px 0;
    font-size: 16px;
}
.buttonLinks a:hover {
    background-color: #77f;
    text-decoration: none;
}
#impactTopBar {
    float:left;
}
#impactTopBar div {
    font-size: 14px;
    color: #fff;
    background-color: #779;
    padding: 8px 28px;
    border-radius: 15px;
    display: inline-block;
    margin: 0 10px 14px 0;
    float: left;
}
#impactTopBar div a:visited {
    color: #fff !important;
}
#impactTopBar div a:link {
    color: #fff !important;
}
#impactTopBar .active {
    background-color: #333;
}
*/

/* For darkly */
.MuiGrid-container {
    background-colorX: rgba(33,33,33,.8);
}
.MuiGrid-item {
    background-colorX: #ddd;
}
.MuiDataGrid-mainGridContainer {
    background-color: #fff;
}

.MuiDataGrid-root .MuiDataGrid-window {
    overflow-x: hidden !important;
    /* overflow-y: hidden !important; */
}
.MuiTypography-h6 {
    color: #333;
}
.MuiGrid-spacing-xs-3 {
	margin-top: 0px;
}
[aria-controls="commodity-sort-menu"] {
  border: 4px solid yellow;
}

</style>


<div class="contentpadding" style="padding-top:0px; border-bottom:1px solid #ccc;">

    <hr>
	<span style="font-size:14px">
		<b>Input and Output per Dollar Spent</b><span style="display:none" class="showforstates"> - Based on 2017 BEA and EPA data displayed for the top <span class=""></span> industries in 2021.<br></span><br>

		In the ranked "Commodities" column below, click the yellow menu to choose multiple impact areas, or choose an impact set above.<br>
		Move sliders to emulate the effect of changing <b>production levels per dollar spent</b>.<br>
		Data source: U.S. Bureau of Economic Analysis (BEA) commodities combined with EPA indicators. 
		- <a href="../../io/charts/" style="text-decoration: underline;">About&nbsp;Widgets</a><br>
		<!--In 2024, the EPA data will change from 411 to 73 BEA commodities.<br>-->
		<br>
	</span>
	<div id="iogrid"></div>

	<div style="clear:both"></div>


	<style>
		.sector-list input[type="checkbox" i] {
			display: none;
		}
	</style>

	<br><br><br>
	
</div>

<!-- MOSAIC HEATMAP -->
<style>
::-webkit-scrollbar {
   -webkit-appearance: none;
   width: 7px;
}
::-webkit-scrollbar-thumb {
   border-radius: 4px;
   background-color: rgba(200,200,200,.5);
   -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5);
}
</style>

<section id="impact">
	<div class="contentpadding" style="min-height:200px;border-bottom:1px solid #ccc;overflow:auto">

		<div id="sectorListTitles" style="margin-bottom:20px">
			<h1 style="margin-bottom: 0px">Impact Levels</h1>
			<span class="region_service"></span>
		</div>
		<div id="sector-list" class="sector-list"></div>
		<!--
		JOBS and VADD are excluded from the default sort
		https://github.com/USEPA/useeio-widgets/issues/35
		-->
	</div>

	<!-- /MOSAIC HEATMAP -->


	<!--
	config.withDefaults({
	  view: ['mosaic'],
	  count: 20,
	});
	config.join(sectorList);
	-->



	<div style="margin:0 30px 0 30px; max-width: 2000px;">
		
		<!--
		<h1 class="module_h1">My Local Area</h1>

		Click columns to sort. Choose geo to define your local area. (Activating shortly.)<br><br>

		<div style="width:100%" class="output_table2 rotateHeader"></div>
		<br>
		-->

		<!--
			<div style="padding:40px">
			5-digit NAICS are the same in Canada, Mexico and the US.<br>
			6-digit NAICS are country-specific. 
			</div>
		-->

		<div id="bioenergySummaryDiv"></div>

	</div>
	<br>
</section><!-- /impact -->



<!-- impact bar chart not displayed -->
<div class="content contentpadding" style="display:none; padding-top: 0px">
	<!-- Saving for later -->
	<div id="barchart" style="display:none"></div>

	<div id="impactTextIntro" class="noprint">Click bubbles above to display a bar chart below for comparison.</div>

	<div style="clear:both"></div>

	<div class="io" style=" max-width: 850px; margin: auto;">
	        <h1 class="text-center">Impact chart</h1>
	        <p>
	            The impact chart widget shows the environmental profile of one or more sectors.
	        </p>
	        <div id="impact-chart" class="impact-chart" style="display:none">
	        	
	        </div>
	</div>

</div>




<!-- Bubble Chart - Moved to appear after other charts per Loren's request -->
<section id="bubble" class="contentpadding" style="padding-top:0px">
	<br><br><br>

	<link rel="stylesheet" type="text/css" href="/io/charts/bubble/css/bubble.css"/>

	<div id="bubble-graph-id" class="bubble-graph">

		<div style="float:right;margin-bottom:16px" class="noprint">
			<a href="https://model.earth/io/charts/">About Bubble Chart</a>
		</div>

        <h1 style="border-bottom: 0px">Impact Bubble Chart</h1>

        <div class="popAdvanced detailbutton greenbutton" style="float:right;cursor:pointer;padding-top:5px" alt="Popout"><i class="material-icons" alt="Pop out" style="float:left;font-size:20px;pointer-events:auto;padding-right:5px;">&#xE55B;</i> <div style="float:left;line-height:20px;">Change Location</div></div>


        Compares three impact areas for <span class='region_service'></span> (in red). Greatest impacts are toward the upper-right with larger&nbsp;sizes.

        <div id="bubble-graph-title"></div>
        <text id="bubble-graph-equation"></text>

      <div style="clear:both; border-top:1px solid #999; border-bottom:1px solid #999; padding:10px; margin-bottom:10px; overflow: scroll">

        <div id="graph-wrapper-z">
            <text class="text-space-horz">Bubble-Size</text>
            <select id="graph-picklist-z" class="graph-picklist">
            </select>
            <span id="unit-z"></span>
          </div>

        <div id="graph-wrapper">

    
          <div id="graph-wrapper-y">
            <text class="text-space-vert">Y-Axis</text>
            <select id="graph-picklist-y" class="graph-picklist">
            </select>
            <span id="unit-y"></span>
          </div> 

        </div>
        <div id="graph-wrapper-x">
            <text class="text-space-horz">X-Axis</text>
            <select id="graph-picklist-x" class="graph-picklist">
            </select>
            <span id="unit-x"></span>
         </div> 
         

      </div>


      <div>
       
       	<!--
       	BUG FIX: If the bubble rollover is not working above, toggle the highlight below off-and-on.<br><br>
		-->
        <label id="switchRedBubbles" style="float:left; margin-right:6px" class="switch">
          <input id="mySelect" type="checkbox" checked>
          <span class="slider round"></span>
        </label>
        <div class="switch-text">Highlight local industries from the state, counties and topic selected above.</div>

      </div>

      <div id="impactText" style="clear:both"></div> 

  	</div>

  	<!--
  	<br><br>
  	NOTE: Indicators like Greenhouse Gases are not currently working in the bubble chart above since we 
	need to <a href="https://github.com/modelearth/io/blob/master/charts/bubble/data/USEEIO_indicators.ipynb">re-generate</a> the <a href="https://github.com/modelearth/community-data/tree/master/us/indicators">indicators-sectors</a> file for USEEEIOv2.0.
	-->

	<!--
	#5: https://model.earth/localsite/info/data/flowsa/
	-->
	<br><br>

  	<!-- Reactivate following improvements to industry spotlight below
  	<button onclick="clearBubbleSelection()">Clear Selection</button>
  	-->

  	<div style="clear:both"></div>

</section>


<script type="text/javascript">
console.log("template-charts.html loaded");

// INIT
var priorHashLocal = {};

/* Allows map to remove selected shapes when backing up. */
document.addEventListener('hashChangeEvent', function (elem) {
	console.log("local page detects hashChangeEvent");
 	hashChangedLocal();
}, false);

function hashChangedLocal() {
  	
	let reloadedMap = false;
	//param = loadParams(location.search,location.hash); // param is declared in localsite.js
	let hash = getHash();
	//alert("hashChanged from prior geo: " + priorHash.geo + " to " + hash.geo);
	
	// NOTE: params after ? are not included, just the hash.
	if (hash.go != priorHash.go) {
		if (hash.show == priorHash.show) {
			console.log("Clear hash.show, but not actual hash. Call updateText from hashChangedLocal since hash has changed.")
			hash.show = ""; // Clear the suppliers display
		}
		updateText(hash.go);
	}
	//priorHashLocal = getHash();
	priorHashLocal = structuredClone($.extend(true, {}, getHash())); // Clone/copy object without entanglement
	
	// Show/hide bubble chart based on state selection
	updateBubbleChartVisibility();
}

// Show bubble chart only when viewing US national data (no state selected)
function updateBubbleChartVisibility() {
	console.log("[VISIBILITY] updateBubbleChartVisibility called");
	const bubbleChart = document.getElementById('bubble-graph-id');
	console.log("[VISIBILITY] Bubble chart element:", bubbleChart);
	
	if (bubbleChart) {
		// Get hash fresh each time
		let hash = typeof getHash === 'function' ? getHash() : {};
		console.log("[VISIBILITY] Current hash:", hash);
		
		if (!hash.state || hash.state === 'US') {
			bubbleChart.style.display = 'block';
			console.log("[VISIBILITY] Showing bubble chart for US national data");
		} else {
			bubbleChart.style.display = 'none';
			console.log("[VISIBILITY] Hiding bubble chart for state: " + hash.state);
		}
	} else {
		console.log("[VISIBILITY] Bubble chart element not found!");
	}
}

console.log("[VISIBILITY] Bubble chart visibility script loaded");

// Initialize bubble chart visibility on page load
if (document.readyState === 'loading') {
	document.addEventListener('DOMContentLoaded', function() {
		setTimeout(updateBubbleChartVisibility, 500);
	});
} else {
	setTimeout(updateBubbleChartVisibility, 500);
}

// Listen for hash changes to update bubble chart visibility
window.addEventListener('hashchange', function() {
	console.log("[VISIBILITY] window.hashchange fired");
	// Run multiple times to override bubble.js
	setTimeout(updateBubbleChartVisibility, 100);
	setTimeout(updateBubbleChartVisibility, 500);
	setTimeout(updateBubbleChartVisibility, 1000);
	setTimeout(updateBubbleChartVisibility, 2000);
});

if (typeof document !== 'undefined') {
	document.addEventListener('hashChangeEvent', function() {
		console.log("[VISIBILITY] hashChangeEvent fired");
		// Run multiple times to override bubble.js
		setTimeout(updateBubbleChartVisibility, 100);
		setTimeout(updateBubbleChartVisibility, 500);
		setTimeout(updateBubbleChartVisibility, 1000);
		setTimeout(updateBubbleChartVisibility, 2000);
	});
}
/*
document.getElementById('showValues').onclick = function() {
    // access properties using this keyword
    if ( this.checked ) {
        // if checked ...
        $(".output_table th.rotate > div > span").css("font-weight","600");
        $(".output_table td:nth-child(n+2) > div > div").css("visibility","visible");
        $(".output_table td:nth-child(n+2) > div > div").css("overflow","none");
        $(".output_table td:nth-child(n+2) > div").css("max-width","none");
        $(".output_table td:nth-child(n+2) > div").css("padding-left","5px");

        // Restore hidden columns
        $(".output_table th:nth-child(n+2)").css("display","table-cell");
        $(".output_table td:nth-child(n+2)").css("display","table-cell");
        
    } else {
        $(".output_table th.rotate > div > span").css("font-weight","400");
        $(".output_table td:nth-child(n+2) > div > div").css("visibility","hidden");
        $(".output_table td:nth-child(n+2) > div > div").css("overflow","auto");
        $(".output_table td:nth-child(n+2) > div").css("max-width","0px");
        $(".output_table td:nth-child(n+2) > div").css("padding-left","0px");

        // Hide entire column
        $(".output_table th:nth-child(n+2)").css("display","none");
        $(".output_table td:nth-child(n+2)").css("display","none");
    }
};
*/
</script>


<style>
/* override widget scroll bars which appear 100% */
::-webkit-scrollbar-thumbX {
    border-radius: 4px;
    background-color: rgba(255,255,255,.5);
    -webkit-box-shadow: 0 0 1px rgba(255 255 255 .5);
}
</style>

<!-- v2 -->
<section id="sector">
	<div id="sectorTableHolder" style="display:none;">
	<div class="content contentpadding">
		<div id="tabulator-sectortable-intro">Sectors (upcoming) - Visible only on localhost</div>
		<div id="tabulator-sectortable"></div><br>
		<div id="tabulator-sectortable-count"></div>
	</div>
	</div>
</section>

<!-- /INFO TEMPLATE -->
</div>

<!-- Industry Detail Controller -->
<script src="../js/industry-detail.js"></script>

</body>
